<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2016-02-03 Wed 21:39 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>R + Org-mode = awesome!</title>
<meta name="generator" content="Org-mode" />
<meta name="author" content="John Henderson" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="http://tinyurl.com/77t76qa" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">R + Org-mode = awesome!
<br>
<span class="subtitle">Org-mode for science, reproducible research, organization</span>
</h1>


<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1">Background</h2>
<div class="outline-text-2" id="text-orgheadline1">
<p>
I work in product development at 3M. I'd <i>like</i> to say my job consists
of coming up with ideas, trying things out, collecting and analyzing
data, using that knowledge for the next iteration, and eventually launching a finished
product. Those steps are certainly involved, but my life <i>also</i> involves a hefty dose of
meetings, emails and phone calls, keeping track of various bits of information, compliance
courses, lots of todos/deadlines, volunteering activities, and other general miscellany.
</p>

<p>
It might not seem like a big deal, but as I tried various applications, I simply found
that I disliked storing notes, todos, contacts, data, code, etc. in separate formats and
locations. To date, I'm unaware of another solution that lets you do what Org-mode can do, which is
what I'd like to introduce here!
</p>
<ul class="org-ul">
<li>General notes/information organization</li>
<li>Todos and planning (scheuling/deadlines/states)</li>
<li>Export to html, pdf (LaTeX/Beamer), markdown, open document formats, and more</li>
<li>Numerous supported programming languages (R, python, bash, gnuplot, among others)</li>
<li>Citations/references</li>
<li>Inserting code results (both blocks and inline code)</li>
<li>Inserting images into exported documents</li>
<li>Even using code to print out Org-mode syntax, thus allowing programmatically generated
document structures (say a headline per some repeated systematic analysis)</li>
</ul>

<p>
These features extremely well for those working in technical/scientific fields, as well as
enabling literate programming and reproducible research. Just so it's clear, I'm certainly
not the first to discover or present this. There's an excellent article about Org-mode for
reproducible research written by various Org-mode contributors, as well as an
example of such work by Thomas Dye.<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup> <sup>, </sup><sup><a id="fnr.2" class="footref" href="#fn.2">2</a></sup>
</p>
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-2">
<h2 id="orgheadline2">This document</h2>
<div class="outline-text-2" id="text-orgheadline2">
<p>
I wrote this to serve as a quick demo of Org-mode features for a live demonstration at the
<a href="http://www.meetup.com/twincitiesrug/">Twin Cities R User Group</a> (TCRUG). I re-created a minimal version of my <code>~/.emacs</code> config
file in an effort to make it easier for newer users to dive in. From there, I simply
created some quick examples and notes on some of the various Org-mode features. This file
is meant to serve as a living Org-mode tutorial. You can see the code, options, and
markup that relate to each feature and actually try them out. And don't worry, there's a
backup version, <code>demo-backup.org</code>, so feel free to play around! 
</p>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-2">
<h2 id="orgheadline3">Basic features I use</h2>
<div class="outline-text-2" id="text-orgheadline3">
<p>
Shortcuts are defined in Emacs like this: <code>C-x</code> (Ctrl+x) and <code>M-x</code> (alt+x). They can be
strung together and interspersed with other text like this: <code>M-x org-mode RET</code> would mean
"press alt+x, type 'org-mode' and press the enter key."
</p>

<p>
The short list of <i>super</i> basic emacs shortcuts you might be lost without:
</p>
<ul class="org-ul">
<li><code>C-x C-f</code>: open a file</li>
<li><code>C-x C-s</code>: save file</li>
<li><code>C-g</code>: when there's a message in that little line way at the bottom (called the
minibuffer) and you can't make it shut up/stop/go away</li>
<li><code>C-x u</code>: undo</li>
</ul>

<p>
Headings are defined by one or more asterisks at the start of a line in Org-mode:
</p>
</div>
<div id="outline-container-orgheadline4" class="outline-3">
<h3 id="orgheadline4">Sub-heading 1</h3>
</div>
<div id="outline-container-orgheadline5" class="outline-3">
<h3 id="orgheadline5">Sub-heading 2</h3>
</div>
<div id="outline-container-orgheadline6" class="outline-3">
<h3 id="orgheadline6">Sub-heading 3</h3>
<div class="outline-text-3" id="text-orgheadline6">
<p>
lists
</p>
<ul class="org-ul">
<li>item 1</li>
<li>item 2</li>
<li>item 3</li>
</ul>

<p>
You can move headings/items up and down with <code>M-up/down</code>; you can promote/demote with
<code>M-left/right</code>. <code>Alt-RET</code> starts a new heading/list of the same type you're cursor is
currently on. <code>Ctrl-RET</code> starts a new heading at the same level of the one you're in.
</p>

<p>
You can insert todos using a heading and any defined keyword (in this case, <code>next</code>, <code>todo</code>,
<code>wait</code>, <code>cancelled</code>, and <code>done</code>):
</p>
</div>
</div>

<div id="outline-container-orgheadline7" class="outline-3">
<h3 id="orgheadline7"><span class="todo todo">todo</span> something</h3>
</div>
<div id="outline-container-orgheadline8" class="outline-3">
<h3 id="orgheadline8"><span class="todo wait">wait</span> waiting on info from someone</h3>
</div>
<div id="outline-container-orgheadline9" class="outline-3">
<h3 id="orgheadline9"><span class="done cancelled">cancelled</span> didn't work out</h3>
</div>
<div id="outline-container-orgheadline10" class="outline-3">
<h3 id="orgheadline10"><span class="done done">done</span> good to check that off</h3>
<div class="outline-text-3" id="text-orgheadline10">
<p>
<code>shift-left/right</code> will cycle through the order of the defined todo states. <code>C-s</code> and
<code>C-d</code> add scheduled or deadline dates (when you plan/need to do the work).
</p>

<p>
You can also use checkboxes with items, including tracking totals via a higher up
headline:
</p>
</div>
</div>

<div id="outline-container-orgheadline11" class="outline-3">
<h3 id="orgheadline11"><span class="todo todo">todo</span> <code>[2/4]</code> a bunch of things</h3>
<div class="outline-text-3" id="text-orgheadline11">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> checkbox item 1</li>
<li class="on"><code>[X]</code> checkbox item 2</li>
<li class="off"><code>[&#xa0;]</code> checkbox item 3</li>
<li class="on"><code>[X]</code> checkbox item 4</li>
</ul>

<p>
Inline headings are like "notes to self" in Org-mode. They can plop right in the middle of
text you're typing and don't show up in any exports. Agenda mode will still extract them,
so I find it helpful for inserting action items during meetings since I can always find
them. I also like this, as the todo stays more proximate to the context in which it
occurred.
</p>

<p>
Dates are often helpful, and I use time stamps quite frequently. They're a quick way to
insert an update to notes or an action item. Since my work is often spread over days or
longer, it's also nice from a reference point of view to see the flow of the progress on
something.
</p>

<p>
<span class="timestamp-wrapper"><span class="timestamp">[2016-01-20 Wed]</span></span>
I tend to use the above with <code>C-!</code>; it inserts an inactive time stamp, meaning there's no
action necessarily associated with it. It's just sitting there as a reference for when I
wrote this. <code>Shift-up/down</code> adjusts whichever entity you're on (year, month, day) and
<code>Shift-left/right</code> cycles by day no matter where the cursor is.
</p>

<p>
To make finding things easier, you can add tags to Org-mode headings. These help with
targeted exports, searching, and in agenda.
</p>
</div>
</div>

<div id="outline-container-orgheadline14" class="outline-3">
<h3 id="orgheadline14">project 1&#xa0;&#xa0;&#xa0;<span class="tag"><span class="proj_1">proj_1</span></span></h3>
<div class="outline-text-3" id="text-orgheadline14">
</div><div id="outline-container-orgheadline12" class="outline-4">
<h4 id="orgheadline12"><span class="todo todo">todo</span> task 1</h4>
<div class="outline-text-4" id="text-orgheadline12">
</div>
</div>
<div id="outline-container-orgheadline13" class="outline-4">
<h4 id="orgheadline13"><span class="todo todo">todo</span> task 2</h4>
<div class="outline-text-4" id="text-orgheadline13">
</div>
</div>
</div>

<div id="outline-container-orgheadline17" class="outline-3">
<h3 id="orgheadline17">project 2&#xa0;&#xa0;&#xa0;<span class="tag"><span class="proj_2">proj_2</span></span></h3>
<div class="outline-text-3" id="text-orgheadline17">
</div><div id="outline-container-orgheadline15" class="outline-4">
<h4 id="orgheadline15"><span class="todo todo">todo</span> task 1</h4>
<div class="outline-text-4" id="text-orgheadline15">
</div>
</div>
<div id="outline-container-orgheadline16" class="outline-4">
<h4 id="orgheadline16"><span class="todo todo">todo</span> task 2</h4>
<div class="outline-text-4" id="text-orgheadline16">
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline18" class="outline-2">
<h2 id="orgheadline18">Agenda</h2>
<div class="outline-text-2" id="text-orgheadline18">
<p>
The easiest way to use agenda to start is on this file. Go before the first headline and
do <code>C-u M-x org-agenda-set-restriction-lock</code>.<sup><a id="fnr.3" class="footref" href="#fn.3">3</a></sup> This will set agenda mode to only look at
this file. After that, run it with <code>C-c a</code>.
</p>

<p>
You can choose from the various options which bring up default views (like filters). You
can also write your own to show, for example, a dashboard of only today's action items.
</p>

<p>
The <code>m</code> option is quite handy for matching defined tags or dates (if you know what you're
looking for). I use <code>C-a s</code> (search) far more. It brings up a list of hits for a keyword
for each instance in your agenda files.
</p>
</div>
</div>

<div id="outline-container-orgheadline19" class="outline-2">
<h2 id="orgheadline19">Some extra stuff</h2>
<div class="outline-text-2" id="text-orgheadline19">
<p>
Sometimes I get test data from a lab assistant who uses various file naming schemes. I've
come to love <a href="http://www.emacswiki.org/emacs/Sunrise_Commander">Sunrise Commander</a> to edit these quickly in Emacs with things like <code>regex</code> and
rectangle operations.
</p>

<p>
Speaking of rectangles, these can be really handy in tables and whatnot.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left"><b>Mfg</b></th>
<th scope="col" class="org-left"><b>Type</b></th>
<th scope="col" class="org-left"><b>Grade</b></th>
<th scope="col" class="org-right"><b>Yield %</b></th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Dow</td>
<td class="org-left">PP</td>
<td class="org-left">A</td>
<td class="org-right">5</td>
</tr>

<tr>
<td class="org-left">Dow</td>
<td class="org-left">PE</td>
<td class="org-left">B</td>
<td class="org-right">7</td>
</tr>

<tr>
<td class="org-left">Dow</td>
<td class="org-left">PE</td>
<td class="org-left">C</td>
<td class="org-right">7</td>
</tr>

<tr>
<td class="org-left">Lyondell</td>
<td class="org-left">LDPE</td>
<td class="org-left">1</td>
<td class="org-right">13</td>
</tr>

<tr>
<td class="org-left">Lyondell</td>
<td class="org-left">LDPE</td>
<td class="org-left">2</td>
<td class="org-right">14</td>
</tr>

<tr>
<td class="org-left">Lyondell</td>
<td class="org-left">LDPE</td>
<td class="org-left">3</td>
<td class="org-right">16</td>
</tr>
</tbody>
</table>


<p>
Org-mode also has a neat interface for entering things quickly called <code>capture</code>. I have it
bound to <code>C-c c</code>, which brings up some options for what I want to capture. It's really
nice for quickly entering a bunch of todos, which are filed into a location of your
choosing.
</p>

<p>
You can track your time with clocking by going to a headline and doing <code>C-c C-x i/o</code> to
clock in/out. You can insert a clock table with <code>M-x org-clock-report</code>. Update it with
<code>C-c C-c</code>.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 1:</span> Clock summary at <span class="timestamp-wrapper"><span class="timestamp">[2016-01-21 Thu 18:01]</span></span></caption>

<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Headline</th>
<th scope="col" class="org-right">Time</th>
<th scope="col" class="org-right">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><b>Total time</b></td>
<td class="org-right"><b>3:14</b></td>
<td class="org-right">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">todos</td>
<td class="org-right">3:14</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&ensp;&ensp;done create content</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">1:43</td>
</tr>

<tr>
<td class="org-left">&ensp;&ensp;done migrate/anonymize example data set</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0:24</td>
</tr>

<tr>
<td class="org-left">&ensp;&ensp;todo get beamer/slidify/reveal working</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">1:07</td>
</tr>
</tbody>
</table>

<p>
If you're a gantt chart person, I'd suggest looking at <a href="http://www.taskjuggler.org/">taskjuggler</a>, a ruby-based project
management application (time lines, resources, estimates). Org-mode has an export backend
for it.
</p>

<p>
Every now and then, I draw some diagrams with <a href="http://www.texample.net/tikz/examples/">TikZ</a>. It's a bit verbose, but you can do
some really neat things with it. Here's an example for drawing how multi-angle color quantifying cameras work:
</p>

<div class="org-src-container">

<pre class="src src-latex"><span style="color: #a020f0;">\begin</span>{<span style="color: #0000ff;">tikzpicture</span>}[scale = 1.5]

<span style="color: #a020f0;">\draw</span>[ultra thick] (0, 0) node[above, anchor = south west] {surface} -- (8, 0) ;
<span style="color: #a020f0;">\draw</span>[dashed, ultra thick, -&gt;, blue] (1, 3) -- (4, 0)
   node[black, near start, above, sloped] {light path} -- (7, 3);

<span style="color: #a020f0;">\draw</span>[thick] (0:4) -- node[above, near end, above, sloped] {<span style="color: #a020f0;">\(</span>15^o<span style="color: #a020f0;">\)</span>} +(60:3);
<span style="color: #a020f0;">\draw</span>[thick] (4, 0) -- node[above, midway, above, sloped] {<span style="color: #a020f0;">\(</span>25^o<span style="color: #a020f0;">\)</span>} +(70:3);
<span style="color: #a020f0;">\draw</span>[thick] (4, 0) -- node[above, midway, above, sloped] {<span style="color: #a020f0;">\(</span>45^o<span style="color: #a020f0;">\)</span>} +(90:3);
<span style="color: #a020f0;">\draw</span>[thick] (4, 0) -- node[above, midway, above, sloped] {<span style="color: #a020f0;">\(</span>75^o<span style="color: #a020f0;">\)</span>} +(120:3);
<span style="color: #a020f0;">\draw</span>[thick] (4, 0) -- node[above, midway, above, sloped] {<span style="color: #a020f0;">\(</span>110^o<span style="color: #a020f0;">\)</span>} +(155:3);
<span style="color: #a020f0;">\draw</span>[thick] (4, 0) -- node[above, midway, above, sloped] {<span style="color: #a020f0;">\(</span>-15^o<span style="color: #a020f0;">\)</span>} +(30:3);

<span style="color: #a020f0;">\end</span>{<span style="color: #0000ff;">tikzpicture</span>}
</pre>
</div>

<div class="org-center">
</div>

<p>
I don't use it to full force, but there's a <a href="https://julien.danjou.info/projects/emacs-packages#org-contacts">contributed Org-mode package</a> for managing
contacts. It stores details in a property drawer (added with <code>C-c C-x p</code>) like this:
</p>
</div>

<div id="outline-container-orgheadline20" class="outline-3">
<h3 id="orgheadline20">Henderson, John</h3>
<div class="outline-text-3" id="text-orgheadline20">
<pre class="example">
Email: jw.hendy@gmail.com
Company: 3M
</pre>

<p>
You can integrate this with <code>gnus</code>, and email mode for Emacs. I have quite a bit of
trouble with this due to the work firewall, so I've not gone that far&#x2026; though I'd <i>love</i> to
handle my emails in Emacs! I often copy/paste snippets from eamils into an Org-mode
journal tree so I don't have to keep things in my inbox anyway.
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline21" class="outline-2">
<h2 id="orgheadline21">Example analysis</h2>
<div class="outline-text-2" id="text-orgheadline21">
<p>
For the last section, I want to go through how I typically set up experimental data
analyses, as well as commenting on some of the code-related features. My analyses are
typically on project-specific data as the result of some test or set of experiments. If
it's really quick, I'll just write things up in my main notes file and, if needed, export
just the subtree (we'll get to that).
</p>

<p>
If the experiment warrants some more serious analysis and a writeup/presentation, I'll often create a
dedicated folder for it. My structure tends to look like this:
</p>

<div class="org-src-container">

<pre class="src src-shell">tree --dirsfirst
</pre>
</div>

<pre class="example">
.
├── data
├── img
├── plots
└── demo_article.org

3 directories, 1 file
</pre>

<p>
Lately, I've been going through data from the same machine on different samples, which
can generate an awful lot of files. My preference has been to create a master file with
ids/data/file names of the samples, and then read the raw data into a list based on that
file. 
</p>

<p>
I typically use an initial block, set not to export, to do the preliminary
read-in/processing. This way, I run it once and then set to <code>:eval no</code> so it doesn't
re-run each export (the results are already in the R session).
</p>
</div>

<div id="outline-container-orgheadline22" class="outline-3">
<h3 id="orgheadline22">Experimental results</h3>
<div class="outline-text-3" id="text-orgheadline22">
<p>
From here, I often generate a "prettier" plot for use in my report or presentation. I also
noticed an issue with <code>samp_1_1</code> when I generated it, so I'd opt to prune it as I think the
test data is suspect.
</p>

<p>
To use <code>:results output graphics</code>, you  have to specify an output file with <code>:file</code>. You
can keep lines shorter by adding as many <code>#+header:</code> lines as you want (which supplements
the options passed after <code>#+begin_src</code>. You need a <code>#+name</code> for the code block so that if
you change code and re-run, Org-mode knows to update the original results block vs. adding
one each time you execute.
</p>

<p>
You can add backend-specific formatting options to the results. Here is the default
generate Org-mode code to include results:
</p>

<pre class="example">
#+RESULTS: rate-compare
[[file:./plots/rate-comparison.png]]
</pre>

<p>
For PDF, I typically center and adjust size as desired:
</p>

<pre class="example">
#+begin_center
#+caption: Rate comparison of samples 1-4
#+attr_latex: :width 0.9\textwidth
#+attr_html: :width 75%
#+RESULTS: rate-compare
[[file:./plots/rate-comparison.png]]
#+end_center
</pre>

<div class="org-center">

<div class="figure">
<p><img src="./plots/rate-comparison.png" alt="rate-comparison.png" width="75%" />
</p>
<p><span class="figure-number">Figure 1:</span> Rate comparison of samples 1-4</p>
</div>
</div>

<p>
I also quite enjoy the <code>ascii</code> package, as it has a mode to turn a data frame into
Org-mode table format:
</p>

<div class="org-src-container">

<pre class="src src-R">stats <span style="color: #008b8b;">&lt;-</span> stats[stats$grp != <span style="color: #8b2252;">"samp_1_1"</span>, ]
stat_table <span style="color: #008b8b;">&lt;-</span> ascii(stats, include.rownames = F,
              rownames = rep(<span style="color: #8b2252;">""</span>, 6), colnames = names(stats))
print(stat_table)
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">id</th>
<th scope="col" class="org-right">rep</th>
<th scope="col" class="org-left">grp</th>
<th scope="col" class="org-right">x<sub>max</sub></th>
<th scope="col" class="org-right">y<sub>max</sub></th>
<th scope="col" class="org-right">rate</th>
<th scope="col" class="org-right">delta</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">samp<sub>1</sub></td>
<td class="org-right">2.00</td>
<td class="org-left">samp<sub>1</sub><sub>2</sub></td>
<td class="org-right">119.88</td>
<td class="org-right">258.82</td>
<td class="org-right">2.16</td>
<td class="org-right">13.02</td>
</tr>

<tr>
<td class="org-left">samp<sub>2</sub></td>
<td class="org-right">1.00</td>
<td class="org-left">samp<sub>2</sub><sub>1</sub></td>
<td class="org-right">119.90</td>
<td class="org-right">255.33</td>
<td class="org-right">2.13</td>
<td class="org-right">16.23</td>
</tr>

<tr>
<td class="org-left">samp<sub>3</sub></td>
<td class="org-right">1.00</td>
<td class="org-left">samp<sub>3</sub><sub>1</sub></td>
<td class="org-right">119.90</td>
<td class="org-right">272.75</td>
<td class="org-right">2.27</td>
<td class="org-right">1.22</td>
</tr>

<tr>
<td class="org-left">samp<sub>4</sub></td>
<td class="org-right">1.00</td>
<td class="org-left">samp<sub>4</sub><sub>1</sub></td>
<td class="org-right">119.90</td>
<td class="org-right">274.27</td>
<td class="org-right">2.29</td>
<td class="org-right">0.00</td>
</tr>
</tbody>
</table>

<p>
You can have <code>R</code> spit out Org-mode syntax as well, which is nice for repetitive
operations. You could process numerous text files and create a headline for each one. I
used this to input a <code>.csv</code> with budget data for 3M groups, outputting a reference cheat
sheet with account numbers and the next year's budget for each group chair in a separate
subtree. It's a little tedious (lots of <code>cat()</code> lines), but for ~40 groups, it was well
worth it.
</p>
</div>
</div>

<div id="outline-container-orgheadline23" class="outline-3">
<h3 id="orgheadline23">Conclusion</h3>
<div class="outline-text-3" id="text-orgheadline23">
<p>
That's it for the quick demo. You can copy these code blocks or results to any other
Org-mode file, which I find particularly useful when writing up a larger report but
needing to present a synopsis at a team meeting, for example. With thoughful path
definitions (or just going with absolute paths), you can often copy these with very
minimal adjustments (usually only the <code>:width</code> or <code>:height</code> options to the graphic, which
I'll often change with <code>M-x replace-string</code>.
</p>

<p>
While this was <code>R</code> focused, Org-mode supports a lot of <a href="http://orgmode.org/worg/org-contrib/babel/languages.html">languages</a>. I like that you can
intersperse them freely, and hand off data (or save to <code>.csv</code> with one, then
process/analyze with another). I've just started getting into <code>python</code>, and would like to
save myself a step by having Org-mode house my sensor reading <i>and</i> my processing/plotting
rather than having them be separate steps.
</p>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara">
Schulte, Eric; Davison, Dan; Dye, Thomas S; Dominik, Carsten. <i>A Multi-Language Computing Environment for Literate Programming and Reproducible Research</i>. 
Journal of Statistical Software. <a href="http://www.jstatsoft.org/article/view/v046i03">http://www.jstatsoft.org/article/view/v046i03</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2">2</a></sup> <div class="footpara"><p class="footpara">
Dye, Thomas S. <i>Structure and Growth of the Leeward Kohala Field System: An
Analysis with Directed Graphs</i>. PlosONE. <a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0102431">http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0102431</a> 
</p></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3">3</a></sup> <div class="footpara"><p class="footpara">
You can also set files Org-mode agenda via commands listed <a href="http://orgmode.org/manual/Agenda-files.html#Agenda-files">here</a>.
</p></div></div>


</div>
</div></div>
<div id="postamble" class="status">
<p class="date">Date: 2016 January (TCRUG meetup)</p>
<p class="author">Author: John Henderson</p>
<p class="date">Created: 2016-02-03 Wed 21:39</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
